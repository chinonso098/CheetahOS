<cos-window [runningProcessID]="this.processId" [processAppIcon]="this.icon" [processAppName]="this.name"  (click)="setChatterWindowToFocus(this.processId)">
    <div class="chatter-main-container" #chatterContainer>
        <div class="folder_folder-MSN"
        (click)="$event.stopPropagation()"
        [ngStyle]="MSNExpand.expand ? { transform: 'scale(1.2)' } : {}"
      >
        <!-- Username Modal -->
        <div *ngIf="userName" class="Username_input_div_active">
          <div class="container_username">
            <div class="form_banner">
              <p class="username_text_banner">Username</p>
              <div class="close_form_banner" (click)="userName = false">Ã—</div>
            </div>
            <form (submit)="$event.preventDefault()">
              <p>Username:</p>
              <input type="text" maxlength="20" placeholder="Enter your username here..."
                [(ngModel)]="userNameValue" name="username">
              <div class="ok_cancel_username">
                <!-- <button (click)="userName = false; localStorage.setItem('username', userNameValue)">Ok</button>
                <button (click)="userName = false; userNameValue = localStorage.getItem('username') || ''">Cancel</button> -->
              </div>
            </form>
          </div>
        </div>
      
        <!-- Chat Header -->
        <div class="folder_dragbar-MSN"
          (dblclick)="handleExpandStateToggle()"
          (touchstart)="handleExpandStateToggleMobile()">
          <div class="folder_barname-MSN">
            <span>MSN</span>
          </div>
        </div>
      
        <!-- Chat Content -->
        <div class="folder_content-MSN">
          <span *ngIf="chatData.length === 0">LOADING.......</span>
          <div #topOfMessagesRef></div>
          <div *ngFor="let chat of loadedMessages">
            <p>
              <span [style.color]="chat?.dev ? 'red' : 'blue'">&lt;{{ chat?.dev ? 'Dev' : chat.name }}&gt;</span>:
              <span [style.color]="chat?.dev ? 'red' : '#171616'">{{ chat.chat }}</span>
            </p>
          </div>
          <div #endOfMessagesRef></div>
        </div>
      
        <!-- Chat Input -->
        <div class="enter_text_div">
          <textarea maxlength="100" placeholder="Enter your message here..."
            [(ngModel)]="chatValue" name="chat"
            (keydown.enter)="createChat()">
          </textarea>
          <button [disabled]="sendDisable" (click)="createChat()">Send</button>
        </div>
      </div>
      
    </div>
</cos-window>